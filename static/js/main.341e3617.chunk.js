(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(44)},33:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(25),i=a.n(c),l=(a(33),a(2)),u=a(13),o=a(18),s=a(17),m=a(3),d=n.a.createContext(),p=n.a.createContext();function h(){var e=n.a.useContext(d);if(!e)throw new Error("useCart must be used within a CartProvider");return e}function b(){var e=n.a.useContext(p);if(!e)throw new Error("useReceipt must be used within a ReceiptProvider");return e}function v(e){var t=n.a.useState([]),a=Object(m.a)(t,2),r=a[0],c=a[1],i=n.a.useMemo(function(){return[r,c]},[r]);return n.a.createElement(d.Provider,Object.assign({value:i},e))}function f(e){var t=n.a.useState([]),a=Object(m.a)(t,2),r=a[0],c=a[1],i=n.a.useMemo(function(){return[r,c]},[r]);return n.a.createElement(p.Provider,Object.assign({value:i},e))}function E(e,t,a){var r=t.find(function(t){return t.id===e.id}),n=t.filter(function(t){return t.id!==e.id});r?(r.count+=1,a(function(e){return[].concat(Object(s.a)(n),[r])})):a(function(t){return[].concat(Object(s.a)(t),[Object(o.a)({},e,{count:1})])})}var y=a(12),k=a.n(y),g=a(15),j=a(7),N=a(8),w=a(10),O=a(9),C=a(11);var x=function(e){var t=e.item,a=h(),r=Object(m.a)(a,2),c=r[0],i=r[1];return n.a.createElement("button",{className:"button",onClick:function(e){E(t,c,i),e.preventDefault()}},"Add to cart ",t.price)};var D=function(e){var t=e.item,a=t.name,r=t.price,c=t.id,i=t.image;return n.a.createElement("li",{className:"item"},n.a.createElement(l.b,{to:"/item/".concat(c)},n.a.createElement("h2",null,a),n.a.createElement("img",{src:"".concat("/accessibility-patterns","/images/").concat(i.id),alt:i.alt,className:"item--image"}),n.a.createElement("p",null,"Price: ",r)),n.a.createElement(x,{item:t}))},A=[{id:0,name:"Blue shoe",description:"A blue sailor shoe with blue white checked pattern in the back",price:300,type:"shoe",image:{id:"blue-01.jpeg",alt:"A blue shoe with white laces"}},{id:1,name:"Red shoe",description:"A classic vans shoe in red fabric, with white stiching. Low cut and flexible flat rubber sole.",price:200,type:"shoe",image:{id:"red-3.jpg",alt:"A red shoe with white laces"}},{id:2,name:"Yellow shoe",description:"A classic vans shoe in yellow fabric, with white stiching. Low cut and flexible flat rubber sole.",price:100,type:"shoe",image:{id:"yellow-2.jpg",alt:"A yellow shoe with white laces"}},{id:3,name:"Blue sock",description:"A thin blue sock, with no rubber band",price:300,type:"sock",image:{id:"blue_sock.jpg",alt:"A man with a blue sock"}},{id:4,name:"Red sock",description:"a red adidas football sock, with white detials. The sock is of a thick material and goes up to the knee",price:200,type:"sock",image:{id:"red_sock.jpg",alt:"A man with a blue sock"}},{id:5,name:"Yellow sock",description:"A thin yellow sock, with no rubber band",price:100,type:"sock",image:{id:"yellow_sock.jpg",alt:"A man with a blue sock"}}],q=new(function(){function e(){Object(j.a)(this,e)}return Object(N.a)(e,[{key:"listItems",value:function(e){if(e){var t=A.filter(function(t){return t.type===e});return Promise.resolve(t)}return Promise.resolve(A)}},{key:"getItem",value:function(e){var t=A.find(function(t){return t.id===e});return t?Promise.resolve(t):Promise.reject("Can not find item")}}]),e}()),S=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(w.a)(this,Object(O.a)(t).call(this,e))).state={items:[]},a}return Object(C.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.type;this.setItems(e)}},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(k.a.mark(function e(t){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.match.params.type!==t.match.params.type&&(a=this.props.match.params.type,this.setItems(a));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setItems",value:function(){var e=Object(g.a)(k.a.mark(function e(t){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.listItems(t);case 3:a=e.sent,this.setState({items:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.history.push("/404");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Shoes:"),n.a.createElement("ul",{className:"itemlist"},this.state.items.map(function(e){return n.a.createElement(D,{item:e})})))}}]),t}(n.a.Component),F=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(w.a)(this,Object(O.a)(t).call(this,e))).state={},a}return Object(C.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(k.a.mark(function e(){var t,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=parseInt(this.props.match.params.id,10),e.next=4,q.getItem(t);case 4:a=e.sent,this.setState({item:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.props.history.push("/404");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(!this.state.item)return n.a.createElement("h2",null,"Loading");var e=this.state.item,t=e.name,a=e.image,r=e.description,c=e.price;return n.a.createElement("section",{className:"item"},n.a.createElement("h2",null,t),n.a.createElement("img",{className:"item--image",src:"".concat("/accessibility-patterns","/images/").concat(a.id),alt:a.alt}),n.a.createElement("p",null,r),n.a.createElement("p",null,"Price: ",c),n.a.createElement(x,{item:this.state.item}))}}]),t}(n.a.Component);var I=function(){return n.a.createElement("h1",null,"Not Found")};var P=function(e){var t=e.adjustable,a=void 0===t||t,r=e.list,c=e.add,i=e.remove,l=r.reduce(function(e,t){return e+t.price*t.count},0);return n.a.createElement("section",{className:"checkout"},n.a.createElement("table",{className:"checkout--table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Item"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"Quantity"))),n.a.createElement("tbody",null,r.map(function(e){return n.a.createElement("tr",{className:"checkout-item",key:"checkout-cart-".concat(e.id)},n.a.createElement("td",{className:"checkout--cell"},e.name),n.a.createElement("td",{className:"checkout--cell"},e.price),n.a.createElement("td",{className:"checkout--cell"},n.a.createElement("span",{className:"checkout--cell"},e.count),a?n.a.createElement("button",{className:"checkout--cell--button","aria-label":"Add one item",title:"Add one item",onClick:function(){return c(e)}},"+"):null,a?n.a.createElement("button",{className:"checkout--cell--button","aria-label":"Remove one item",title:"Remove one item",onClick:function(){return i(e)}},"-"):null))}))),n.a.createElement("p",{className:"checkout--total"},"Total price: ",l))};var z=function(){var e=h(),t=Object(m.a)(e,2),a=t[0],r=t[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,"What is in your cart"),0===a.length?n.a.createElement("p",null,"Your cart is empty"):n.a.createElement(n.a.Fragment,null,n.a.createElement(P,{list:a,add:function(e){return E(e,a,r)},remove:function(e){return function(e,t,a){var r=t.find(function(t){return t.id===e.id}),n=t.filter(function(t){return t.id!==e.id});r&&(1===r.count?a(function(e){return Object(s.a)(n)}):(r.count-=1,a(function(e){return[].concat(Object(s.a)(n),[r])})))}(e,a,r)}}),n.a.createElement(l.b,{className:"button button__full",to:"/payment/contact"},"go pay")))},R=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(w.a)(this,Object(O.a)(t).call(this,e))).state={},a}return Object(C.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(z,null))}}]),t}(n.a.Component),L=a(16);var M=function(e){var t=e.error,a=Object.keys(t);return 0===a.length?null:n.a.createElement("section",{class:"error-container",role:"alert","aria-relevant":"all"},n.a.createElement("h3",null,"Oops you missed some information or something is wrong"),n.a.createElement("p",null,n.a.createElement("ul",null,a.map(function(e){return n.a.createElement("li",{key:"error-key-".concat(e)},t[e])}))))};var _=function(e){var t=e.email,a=e.updateData,r=e.error,c=e.validate;return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Fill in contact information (Step 1 of 3):"),n.a.createElement(M,{error:r}),n.a.createElement("label",{className:"checkout--input"},"Email",n.a.createElement("input",{type:"email",value:t,"aria-describedby":"error-email","aria-required":"true",onChange:function(e){return a("email",e.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-email"},r.email)),n.a.createElement("button",{className:"button",onClick:function(){return c(["email"],"address")}},"Next"))};var B=function(e){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Fill in delivery information (Step 2 of 3):"),n.a.createElement(M,{error:e.error}),n.a.createElement("label",{className:"checkout--input"},"Firstname",n.a.createElement("input",{type:"text","aria-required":"true","aria-describedby":"error-firstname",value:e.firstname,onChange:function(t){return e.updateData("firstname",t.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-firstname"},e.error.firstname)),n.a.createElement("label",{className:"checkout--input"},"Lastname",n.a.createElement("input",{type:"text","aria-required":"true","aria-describedby":"error-lastname",value:e.lastname,onChange:function(t){return e.updateData("lastname",t.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-lastname"},e.error.lastname)),n.a.createElement("label",{className:"checkout--input"},"Address",n.a.createElement("input",{type:"text","aria-required":"true","aria-describedby":"error-address",value:e.address,onChange:function(t){return e.updateData("address",t.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-address"},e.error.address)),n.a.createElement("label",{className:"checkout--input"},"City",n.a.createElement("input",{type:"text","aria-required":"true","aria-describedby":"error-city",value:e.city,onChange:function(t){return e.updateData("city",t.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-city"},e.error.city)),n.a.createElement("label",{className:"checkout--input"},"Zipcode",n.a.createElement("input",{type:"number","aria-required":"true","aria-describedby":"error-zipcode",value:e.zipcode,onChange:function(t){return e.updateData("zipcode",t.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-zipcode"},e.error.zipcode)),n.a.createElement("label",{className:"checkout--input"},"Country",n.a.createElement("input",{type:"text","aria-required":"true","aria-describedby":"error-country",value:e.country,onChange:function(t){return e.updateData("country",t.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-country"},e.error.country)),n.a.createElement("button",{className:"button",onClick:function(){return e.validate(["firstname","lastname","address","city","zipcode","country"],"creditcard")}},"Next"))};var T=function(e){var t=h(),a=Object(m.a)(t,2),r=a[0],c=a[1],i=b(),l=Object(m.a)(i,2),u=(l[0],l[1]);return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Fill in payment details (Step 3 of 3):"),n.a.createElement(M,{error:e.error}),n.a.createElement("label",{className:"checkout--input"},"Creditcard number:",n.a.createElement("input",{type:"number","aria-required":"true","aria-describedby":"error-creditcardnumber",value:e.creditcardnumber,onChange:function(t){return e.updateData("creditcardnumber",t.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-creditcardnumber"},e.error.creditcardnumber)),n.a.createElement("label",{className:"checkout--input"},"Month:",n.a.createElement("input",{type:"number","aria-required":"true","aria-describedby":"error-month",value:e.month,onChange:function(t){return e.updateData("month",t.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-month"},e.error.month)),n.a.createElement("label",{className:"checkout--input"},"Year:",n.a.createElement("input",{type:"number","aria-required":"true","aria-describedby":"error-year",value:e.year,onChange:function(t){return e.updateData("year",t.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-year"},e.error.year)),n.a.createElement("label",{className:"checkout--input"},"CVC:",n.a.createElement("input",{type:"number","aria-required":"true","aria-describedby":"error-cvc",value:e.cvc,onChange:function(t){return e.updateData("cvc",t.target.value)}}),n.a.createElement("p",{className:"checkout--error",id:"error-cvc"},e.error.cvc)),n.a.createElement("button",{className:"button",onClick:function(){e.validate(["creditcardnumber","month","year","cvc"],"receipt")&&(u(r),function(e){e(function(e){return[]})}(c))}},"Pay"))};var Y=function(e){var t=b(),a=Object(m.a)(t,1)[0];return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"receipt"),n.a.createElement("p",null,"Also sent to ",e.email),n.a.createElement(P,{adjustable:!1,list:a}),n.a.createElement(l.b,{to:"/",className:"button"},"Continue shopping"))},W=function(e){function t(){var e;return Object(j.a)(this,t),(e=Object(w.a)(this,Object(O.a)(t).call(this))).state={email:"",firstname:"",lastname:"",address:"",city:"",zipcode:"",country:"",creditcardnumber:"",month:"",year:"",cvc:"",error:{}},e.updateData=e.updateData.bind(Object(L.a)(e)),e.validate=e.validate.bind(Object(L.a)(e)),e}return Object(C.a)(t,e),Object(N.a)(t,[{key:"updateData",value:function(e,t){var a={};a[e]=t,this.setState(a)}},{key:"validate",value:function(e,t){var a=this,r={};return e.map(function(e){r=Object(o.a)({},r,a.validateData(e,a.state[e]))}),this.setState({error:r}),0===Object.keys(r).length&&this.props.history.push(t),0===Object.keys(r).length}},{key:"validateData",value:function(e,t){switch(e){case"zipcode":case"creditcardnumber":case"month":case"year":case"cvc":var a=this.validateNumber(e,t);if(a)return a;break;case"email":var r=this.validateEmail(e,t);if(r)return r;break;default:var n=this.validateRequire(e,t);if(n)return n}return null}},{key:"validateNumber",value:function(e,t){var a={};try{return NaN===parseInt(t,10)||0===t.length?(a[e]="Needs to be a valid number",a):null}catch(r){return a[e]="Needs to be a valid number",a}return null}},{key:"validateRequire",value:function(e,t){var a={};if(!t||0===t.length)return a[e]="This field is required",a}},{key:"validateEmail",value:function(e,t){var a={};if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase()))return a[e]="The email address is invalid",a}},{key:"render",value:function(){var e=this;return n.a.createElement(f,null,n.a.createElement(u.a,{path:"".concat(this.props.match.path,"/contact"),render:function(t){return n.a.createElement(_,Object.assign({},t,e.state,{updateData:e.updateData,validate:e.validate}))},exact:!0}),n.a.createElement(u.a,{path:"".concat(this.props.match.path,"/address"),exact:!0,render:function(t){return n.a.createElement(B,Object.assign({},t,e.state,{updateData:e.updateData,validate:e.validate}))}}),n.a.createElement(u.a,{path:"".concat(this.props.match.path,"/creditcard"),exact:!0,render:function(t){return n.a.createElement(T,Object.assign({},t,e.state,{updateData:e.updateData,validate:e.validate}))}}),n.a.createElement(u.a,{path:"".concat(this.props.match.path,"/receipt"),exact:!0,render:function(t){return n.a.createElement(Y,Object.assign({},t,e.state,{updateData:e.updateData,validate:e.validate}))}}))}}]),t}(n.a.Component);var Z=function(){var e=h(),t=Object(m.a)(e,1)[0].reduce(function(e,t){return e+t.count},0);return n.a.createElement(l.b,{to:"/checkout"},n.a.createElement("div",null,"Items in cart ",t))};var J=function(){return n.a.createElement("nav",{className:"nav"},n.a.createElement("ul",null,n.a.createElement("li",{className:"nav--item"},n.a.createElement(l.b,{to:"/"},"Store")),n.a.createElement("li",{className:"nav--item"},n.a.createElement(l.b,{to:"/filter/shoe"},"Shoes")),n.a.createElement("li",{className:"nav--item"},n.a.createElement(l.b,{to:"/filter/sock"},"Socks")),n.a.createElement("li",{className:"nav--right"},n.a.createElement(Z,null))))};var $=function(){return n.a.createElement(v,null,n.a.createElement(l.a,{basename:"/accessibility-patterns"},n.a.createElement("header",null,n.a.createElement(J,null)),n.a.createElement(u.a,{path:"/",exact:!0,component:S}),n.a.createElement(u.a,{path:"/filter/:type",exact:!0,component:S}),n.a.createElement(u.a,{path:"/item/:id",exact:!0,component:F}),n.a.createElement(u.a,{path:"/404",exact:!0,component:I}),n.a.createElement(u.a,{path:"/checkout",component:R}),n.a.createElement(u.a,{path:"/payment",component:W})))};a(43);var Q=function(){return n.a.createElement("div",{className:"App"},n.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.341e3617.chunk.js.map